function [results] = test_script()

close all;
clc;

disp('Kinematics test')

% Constants
leg1_l = 0.15;
leg1_w = 0.01;
leg1_h = 0.01;
leg1_dim = [leg1_w; leg1_l; leg1_h];
leg1_j_to_com = [0; leg1_l/2; 0];

leg2_l = 0.15;
leg2_w = 0.01;
leg2_h = 0.01;
leg2_dim = [leg2_w; leg2_l; leg2_h];
leg2_j_to_com = [0; leg2_l/2; 0];

head_l = 0.10;
head_w = 0.05;
head_h = 0.05;
head_dim = [head_w; head_h; head_l];
leg1_j_to_com = [0; head_h/2; ];

foot_l = 0.10;
foot_w = 0.06;
foot_h = 0.02;
foot_dim = [foot_w; foot_l; foot_h];

% Define configuration
q1 = 0;
q2 = 0.1;
q3 = pi - 2*q2;
q4 = 0;
q5 = 0;
q = [q1;q2;q3;q4;q5];

% Define kinematics 
% r = end to end of link/joints 
% a = end to COM of link/joint
% r_j1j2 = [0.05; 0; 0.05];
% r_j2j3 = [leg_l1; 0; 0];
% r_j3j4 = [leg_l2; 0; 0];
% r_j4j5 = [0.05; 0; 0];
% r_j5j6 = [0.05; 0; 0.05];
% r_joints = [r_j1j2, r_j2j3, r_j3j4, r_j4j5, r_j5j6];
a1 = [0; leg1_l; 0];
a2 = [0; leg2_l; 0];
a3 = [0; head_l*2/3; 0];
a = [[0;0;0], a1, a2, [0;0;0], a3];


% a_j1c2 = r_j1j2/2; % assume half way for now
% a_j2c3 = r_j2j3/2;
% a_j3c4 = r_j3j4/2;
% a_j4c5 = r_j4j5/2;
% a_j5c6 = r_j5j6/2;
% a_joints = [a_j1c2, a_j2c3, a_j3c4, a_j4c5, a_j5c6];

x = kinematics(q, a);
% x = kinematics3(q, a1, a2, a3);
figure()
plot3(x(1,:), x(2,:), x(3,:), 'blue');
hold on
scatter3(x(1,:), x(2,:), x(3,:), 'red');
xlabel("E1");
ylabel("E2");
zlabel("E3");
axis equal;
view (-135,45);

figure()
xlabel("E1");
ylabel("E2");
zlabel("E3");
axis equal;
view (45,45);
hold on;
handle = plot_rectbar_3d_robotjoints(Rx(q(2))*Ry(q(1)), leg1_dim, x(:,2));
handle = plot_rectbar_3d_robotjoints(Rx(q(3))*Rx(q(2))*Ry(q(1)), leg2_dim, x(:,2));
handle = plot_rectbar_3d_robotjoints(eye(3), head_dim, x(:,5));

end